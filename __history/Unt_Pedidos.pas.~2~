unit Unt_Pedidos;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, Grids, DBGrids, ComCtrls, ExtCtrls, StdCtrls, FMTBcd, DB, Menus,
  DBClient, Provider, SqlExpr;

type
  TFrmPedidos = class(TForm)
    PnlTop: TPanel;
    PnlProdutos: TPanel;
    LblPedidos: TLabel;
    PnlLogo: TPanel;
    ImgList: TImage;
    PageCentro: TPageControl;
    TsConsulta: TTabSheet;
    GridPedidos: TDBGrid;
    sqlPedidos: TSQLDataSet;
    dspPedidos: TDataSetProvider;
    cdsPedidos: TClientDataSet;
    dtsPedidos: TDataSource;
    MainMenu1: TMainMenu;
    Configuraes1: TMenuItem;
    Novo1: TMenuItem;
    Abrir1: TMenuItem;
    N1: TMenuItem;
    Salvar1: TMenuItem;
    SalvarTudo1: TMenuItem;
    N2: TMenuItem;
    Sair1: TMenuItem;
    Usurios1: TMenuItem;
    Administradores1: TMenuItem;
    Funcionarios1: TMenuItem;
    Clientes2: TMenuItem;
    Clientes1: TMenuItem;
    Cadastrar1: TMenuItem;
    Registros1: TMenuItem;
    Excluir1: TMenuItem;
    Produtos1: TMenuItem;
    Vendidos1: TMenuItem;
    Estoque1: TMenuItem;
    cdsPedidosID: TIntegerField;
    cdsPedidosID_CLIENTE: TIntegerField;
    cdsPedidosNUM_PEDIDO: TStringField;
    cdsPedidosDATA: TDateField;
    cdsPedidosFRETE: TFMTBCDField;
    cdsPedidosVALOR: TFMTBCDField;
    cdsPedidosID_VENDEDOR: TIntegerField;
    cdsPedidosVALOR_PRODUTOS: TFMTBCDField;
    GBFiltro: TGroupBox;
    CboxConsulta: TComboBox;
    EdtConsulta: TEdit;
    BtnConsulta: TButton;
    procedure FormCreate(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
    procedure BtnConsultaClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FrmPedidos: TFrmPedidos;

implementation

{$R *.dfm}

procedure TFrmPedidos.BtnConsultaClick(Sender: TObject);
begin
  cdsPedidos.Close;
  sqlPedidos.CommandText := 'SELECT * FROM PEDIDO WHERE '+CboxConsulta.Text+' = '''+EdtConsulta.Text+'''';
  cdsPedidos.Open;
end;

procedure TFrmPedidos.FormClose(Sender: TObject; var Action: TCloseAction);
begin
    FrmPedidos.Free;
end;

procedure TFrmPedidos.FormCreate(Sender: TObject);
begin
    cdsPedidos.Open;
    PageCentro.ActivePage := TsConsulta;
end;

end.
